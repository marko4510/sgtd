<!DOCTYPE html>
<html lang="en">

<head th:replace="layout/layout2 :: head">

</head>

<body>
  <!-- Header Start -->
  <div th:replace="layout/layout2 :: menu">

  </div>
  <!-- Header End -->








  <!-- CONTENIDO -->
  <br>
  <div class="row g-3 mb-3">
    <div class="col-md-4 col-xxl-3">
      <div class="card h-md-100 ecommerce-card-min-width">
        <div class="card-img-top"><img class="img-fluid" src="../../../../assets3/img/carnetIdent.png"
            alt="Card image cap" /></div>
        <div class="card-header pb-0">
          <h6 class="mb-0 mt-2 d-flex align-items-center">NOTA
            <span class="ms-1 text-400" data-bs-toggle="tooltip" data-bs-placement="top"
              title="Calculated according to last week's sales"></span>
          </h6>
          <h6 class="mb-0 mt-2 d-flex align-items-center">
            1. Ingrese su número, tal cual está en su cédula de identidad.<span class="ms-1 text-400"
              data-bs-toggle="tooltip" data-bs-placement="top" title="Calculated according to last week's sales"></span>
          </h6>
          <ul class="mb-4  mt-2">

            <li> Si su carnet tiene complemento Ej: 1234567-1D, incluya el complemento en el campo de Cédula de Identidad</li>
            <li> Si su carnet no tiene complemento (Su carnet es solo número Ej. 1234567)  </li>


          </ul>
          <h6 class="mb-0 mt-2 d-flex align-items-center">
            2. Ingrese el departamento de su cédula de identidad en el campo de Departamentos<span class="ms-1 text-400"
              data-bs-toggle="tooltip" data-bs-placement="top" title="Calculated according to last week's sales"></span>
          </h6>
        </div>

      </div>
    </div>
    <div class="col-md-8 col-xxl-3">
      <div class="card h-md-100">
        <div class="card-header pb-0">
          <h4 class="mb-0 mt-2">REGISTRO DE NUEVO USUARIO</h4>
        </div>
        <div class="card-body d-flex flex-column justify-content-end">
          <div class="row justify-content-between">
            <div class="card-body bg-light">
              <div class="row pt-5">



                <div class="col-lg-12 col-md-4 mb-5" id="piePagina">
                  <div class="tab-content">
                    <div class="tab-pane preview-tab-pane active" role="tabpanel"
                      aria-labelledby="tab-dom-f1d388f8-6223-48cd-b720-917f0290eedd"
                      id="dom-f1d388f8-6223-48cd-b720-917f0290eedd">
                      <form class="row g-3" th:action="@{/RegistroF}" method="post">
                        <input type="hidden" th:field="${persona.id_persona}">

                        <div class="col-md-3 mb-3">
                          <label class="form-label">Nombre</label>
                          <input class="form-control" th:field="${persona.nombre}" type="text"
                            onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                            required />
                        </div>
                        <div class="col-md-3 mb-3">
                          <label class="form-label">Apellido Paterno</label>
                          <input class="form-control" th:field="${persona.ap_paterno}" type="text"
                            onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                            required />
                        </div>
                        <div class="col-md-3 mb-3">
                          <label class="form-label">Apellido Materno</label>
                          <input class="form-control" th:field="${persona.ap_materno}" type="text"
                            onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                            required />
                        </div>
                        <div class="col-md-3 mb-3">
                          <label class="form-label">Correo</label>
                          <input class="form-control" th:field="${persona.correo}" type="text" required />
                        </div>
                        <div class="col-md-3 mb-3">
                          <label class="form-label">Celular</label>
                          <input class="form-control" th:field="${persona.numero_contacto}" type="text"
                            onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                            required />
                        </div>

                        <div class="col-md-3 mb-3">
                          <label class="form-label"> Cédula de Identidad </label>
                          <input class="form-control" th:field="${persona.ci}" type="text"
                            onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                            required />
                        </div>

                        <div class="col-md-3 mb-3">
                          <label class="form-label">Fecha de Nacimiento </label>
                          <input class="form-control" th:field="${persona.fecha_nacimiento}" type="date"
                            onkeyup="javascript:this.value=this.value.toUpperCase();"
                            style="text-transform:uppercase;" />
                        </div>
                        <hr>
                        <!--
                        <div class="col-md-3 mb-3">
                          <label class="form-label">Usuario</label>
                          <input class="form-control" name="uss" id="uss" type="text" required />
                        </div>
                        <div class="col-md-3 mb-3">
                          <label class="form-label">Contraseña</label>
                          <input class="form-control" name="pas" id="pas" type="text" required />
                        </div>
                        -->
                        <div class="col-md-4">
                          <label class="form-label" for="inputState">Nacionalidad</label>
                          <select class="form-select js-choice" id="id_nacionalidad" name="id_nacionalidad" onchange="myy()" required>
                            <option value="-1">Seleccione Pais</option>
                            <option th:each="nac : ${nacionalidades}" th:value="${nac.id_nacionalidad}"
                              th:if="${nac.estado != 'X'}" th:text="${nac.nombre_nacionalidad}"></option>
                          </select>
                        </div>
                        <div class="col-md-4">
                          <label class="form-label" for="inputState">Departamentos</label>
                          <select class="form-select js-choice" id="id_departament" name="id_departamento" onchange="provin()" required>
                            <option value="-1">Seleccione Departamento</option>
                            
                          </select>
                        </div>

                        <div class="col-md-4">
                          <label class="form-label" for="inputState">Provincia</label>
                          <select class="form-select js-choice" id="id_provinci" name="id_provincia" required>
                            <option value="-1">Seleccione Provincia</option>
                            

                          </select>
                        </div>
                        <hr>
                        <div class="col-md-6">
                          <label class="form-label" for="inputState">Carrera</label>
                          <select class="form-select js-choice" id="id_carrer" name="id_carrera" onchange="gradoAcad()"
                            required>
                            <option value="-1">Seleccione Carrera</option>
                            <option th:each="carr : ${carreras}" th:if="${carr.estado != 'X'}"
                              th:value="${carr.id_carrera}" th:text="${carr.nombre_carrera}">
                            </option>
                          </select>
                        </div>

                        <div class="col-md-6">
                          <label class="form-label" for="inputState">Grado Academico</label>
                          <select class="form-select js-choice" id="id_grado_academic" name="id_grado_academico"
                            required>
                            <option value="-1">Seleccione Grado</option>
                            <!--<option th:each="gra : ${gradoAcademicos}" th:value="${gra.id_grado_academico}"
                              th:if="${gra.estado != 'X'}" th:text="${gra.nombre}">
                            </option>-->
                          </select>
                        </div>
                       <hr>
                        <div class="col-12">
                          <button class="btn btn-primary" type="submit">Registrarse</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>


              </div>

            </div>

          </div>
        </div>
      </div>
    </div>


  </div>

  <script type="text/javascript">




    //$('#location').change(
    function myy() {
      var i = document.getElementById("id_nacionalidad").value;
      // alert(i);
      $.getJSON("/deptos", {
        nacionalidadId: i,
        ajax: 'true'
      }, function (data) {
        var html = '<option value="">--Departamentos--</option>';
        var len = data.length;
        for (var i = 0; i < len; i++) {
          html += '<option value="' + data[i].id_departamento + '">'
            + data[i].nombre + '</option>';
        }
        html += '</option>';
        $('#id_departament').html(html);
      });
    }//);

    function provin() {
      var i = document.getElementById("id_departament").value;
      // alert(i);
      $.getJSON("/provincias", {
        departaId: i,
        ajax: 'true'
      }, function (data) {
        var html = '<option value="">--Provincias--</option>';
        var len = data.length;
        for (var i = 0; i < len; i++) {
          html += '<option value="' + data[i].id_provincia + '">'
            + data[i].nombre_provincia + '</option>';
        }
        html += '</option>';
        $('#id_provinci').html(html);
      });
    }//);


    function gradoAcad() {
      var j = document.getElementById("id_carrer").value;
      //alert(i);
      $.getJSON("/ggrados", {
        carrerId: j,
        ajax: 'true'
      }, function (data) {
        var html = '<option value="">--Grados--</option>';
        var len = data.length;
        for (var i = 0; i < len; i++) {
          html += '<option value="' + data[i].id_grado_academico + '">'
            + data[i].nombre + '</option>';
        }
        html += '</option>';
        $('#id_grado_academic').html(html);
      });
    }//);
  </script>




  <!-- Footer Start -->
  <div th:replace="layout/layout2 :: footer">

  </div>
  <!-- Footer End -->

  <!-- Back to Top -->
  <a href="#" class="btn btn-primary px-3 back-to-top"><i class="fa fa-angle-double-up"></i></a>

  <!-- Modal Login Start -->
  <div th:replace="layout/layout2 :: modalLogin">

  </div>
  <!-- Modal Login End -->

  <div th:replace="layout/layout2 :: script"></div>
</body>

</html>