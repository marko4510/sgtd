<!DOCTYPE html>
<html lang="en">

<head th:replace="layout/layout2 :: head">

</head>

<body>
  <!-- Header Start -->
  <div th:replace="layout/layout2 :: menu">

  </div>
  <!-- Header End -->








  <!-- CONTENIDO -->
  <div class="container-fluid pt-5">
    <div class="row row-sm">
      <div class="col-lg-12 ">
        <div class="card ">
          <div class="card-header border-bottom">
            <div class="d-flex align-items-center justify-content-center flex-between-end my-1">
              <h3>Formulario de Solicitud de Titulo y Diploma</h3>
            </div>

          </div>

        </div>



        <!--conten-->


        <br>


        <div class="row g-3 mb-3">

          <form class="row g-3" th:action="@{/TituloDiplomaProvisionF}" method="post" enctype="multipart/form-data"
            th:object="${solicitudTitulo}">
            <input type="hidden" th:field="${solicitudTitulo.id_solicitud_titulo}">
            <input type="hidden" th:field="${persona.id_persona}">
            <input class="form-control" th:field="${persona.provincia}"  type="hidden"/>
            <input class="form-control" th:field="${persona.gradoAcademico}"  type="hidden"/>
            <div class="col-md-5 col-xxl-3">
              <div class="card h-md-100 ecommerce-card-min-width">
                <div class="card-header pb-0">
                  <h4 class="mb-0 mt-2">DATOS PERSONALES</h4>
                </div>
                <br>

                <div class="form-group row">
                  <label for="staticEmail" class="col-sm-5 col-form-label">Cédula de Identidad :</label>
                  <div class="col-sm-4">
                    <input class="form-control" th:field="${persona.ci}" id="inputPassword4" type="hidden"
                      th:text="${persona.ci}+' '+${persona.provincia.departamento.nombre}" onkeyup="javascript:this.value=this.value.toUpperCase();"
                      style="text-transform:uppercase;" requerid />
                  </div>
                </div>

                <div class="form-group row">
                  <label for="staticEmail" class="col-sm-5 col-form-label">Fecha de Nacimiento :</label>
                  <div class="col-sm-4">
                    <input class="form-control" th:field="${persona.fecha_nacimiento}" id="inputPassword4" type="hidden"
                      th:text="${#dates.format(persona.fecha_nacimiento, 'dd/MM/yyyy')}"
                      onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                      requerid />
                  </div>
                </div>

                <div class="form-group row">
                  <label for="staticEmail" class="col-sm-5 col-form-label">Nombre :</label>
                  <div class="col-sm-4">
                    <input class="form-control" th:field="${persona.nombre}" id="inputEmail4" type="hidden"
                      th:text="${persona.nombre}" onkeyup="javascript:this.value=this.value.toUpperCase();"
                      style="text-transform:uppercase;" requerid />
                  </div>
                </div>

                <div class="form-group row">
                  <label for="staticEmail" class="col-sm-5 col-form-label">Apellido Paterno:</label>
                  <div class="col-sm-4">
                    <input class="form-control" th:field="${persona.ap_paterno}" id="inputPassword4" type="hidden"
                      th:text="${persona.ap_paterno}" onkeyup="javascript:this.value=this.value.toUpperCase();"
                      style="text-transform:uppercase;" requerid />
                  </div>
                </div>

                <div class="form-group row">
                  <label for="staticEmail" class="col-sm-5 col-form-label">Apellido Materno:</label>
                  <div class="col-sm-4">
                    <input class="form-control" th:field="${persona.ap_materno}" id="inputPassword4" type="hidden"
                      th:text="${persona.ap_materno}" onkeyup="javascript:this.value=this.value.toUpperCase();"
                      style="text-transform:uppercase;" requerid />
                  </div>
                </div>



              </div>
            </div>
            <div class="col-md-7 col-xxl-3">
              <div class="card h-md-100">
                <div class="card-header pb-0">
                  <h4 class="mb-0 mt-2">DATOS COMPLEMENTARIOS</h4>
                </div>
                <div class="card-body d-flex flex-column justify-content-end">
                  <div class="row justify-content-between">
                    <div class="card-body bg-light">
                      <div class="row pt-12">

                        <div class="col-md-6 mb-3">
                          <label class="form-label">Correo</label>
                          <input class="form-control" th:field="${persona.correo}" id="inputEmail4" type="text"
                            required />
                        </div>

                        <div class="col-md-6 mb-3">
                          <label class="form-label">Celular</label>
                          <input class="form-control" th:field="${persona.numero_contacto}" id="inputEmail4" type="text"
                            onkeyup="javascript:this.value=this.value.toUpperCase();" style="text-transform:uppercase;"
                            required />
                        </div>

                        <div class="col-md-6 mb-3">
                          <label class="form-label" for="inputState">Carrera</label>
                          <select class="form-select " id="id_carrer" name="id_carrera" onchange="gradoAcad()"
                            required>
                            <option value="-1">Seleccione Carrera</option>
                            <option th:each="carr : ${carreras}" th:if="${carr.estado != 'X'}"
                              th:value="${carr.id_carrera}" th:text="${carr.nombre_carrera}">
                            </option>
                          </select>
                        </div>

                        <div class="col-md-6 mb-3">
                          <label class="form-label" for="inputState">Grado Academico</label>
                          <select class="form-select " id="id_grado_academic" name="id_grado_academico"
                            required>
                            <option value="-1">Seleccione Grado</option>
                            <!--<option th:each="gra : ${gradoAcademicos}" th:value="${gra.id_grado_academico}"
                              th:if="${gra.estado != 'X'}" th:text="${gra.nombre}">
                            </option>-->
                          </select>
                        </div>

                        <div class="col-md-6 mb-3">
                          <label class="form-label">Documento</label>
                          <select class="form-select" aria-label="Default select example" th:field="*{costoDocumento}">
                            <th:block th:each="cdc : ${costodocumentos}">
                              <option th:value="${cdc.id_costo_documento}" th:if="${cdc.estado != 'X'}" selected
                                th:text="${cdc.documento.nombre_documento}+' '+${cdc.costo}+' BS'"></option>
                            </th:block>



                          </select>
                        </div>
                        
                        <div class="col-12">
                          <button class="btn btn-primary" type="submit">Registrar</button>
                        </div>



                      </div>

                    </div>

                  </div>
                </div>
              </div>
            </div>

          </form>
        </div>







      </div>



    </div>
  </div>
  </div>
  <!-- CONTENIDO-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>
    $('input[type="file"]').on('change', function () {
      var ext = $(this).val().split('.').pop();
      if ($(this).val() != '') {
        if (ext == "pdf") {
         
          if ($(this)[0].files[0].size > 1048576) {
            console.log("El documento excede el tamaño máximo");
            $('#modal-title').text('¡Precaución!');
            $('#modal-msg').html("Se solicita un archivo no mayor a 1MB. Por favor verifica.");
            $("#modal-gral").modal();
            $(this).val('');
          } else {
            $("#modal-gral").hide();
          }
        }
        else {
          $(this).val('');
          alert("Extensión no permitida: " + ext);
        }
      }
    });
  </script>
   <script type="text/javascript">
    function gradoAcad() {
  var j = document.getElementById("id_carrer").value;
  //alert(i);
  $.getJSON("/gradosTitulos", {
    carrerId: j,
    ajax: 'true'
  }, function (data) {
    var html = '<option value="">--Grados--</option>';
    var len = data.length;
    for (var i = 0; i < len; i++) {
      html += '<option value="' + data[i].id_grado_academico + '">'
        + data[i].nombre + '</option>';
    }
    html += '</option>';
    $('#id_grado_academic').html(html);
  });
}//);

</script>
  <!-- Footer Start -->
  <div th:replace="layout/layout2 :: footer">

  </div>
  <!-- Footer End -->

  <!-- Back to Top -->
  <a href="#" class="btn btn-primary px-3 back-to-top"><i class="fa fa-angle-double-up"></i></a>


  <div th:replace="layout/layout2 :: script"></div>
</body>

</html>